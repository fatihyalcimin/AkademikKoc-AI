<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Akademik Vizyon</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

    <div class="container">
        <header>
            <div class="logo-area"><i class="fa-solid fa-graduation-cap"></i></div>
            <h1>Akademik Vizyon</h1>
            <p>Yapay Zeka Destekli BaÅŸarÄ± Analizi</p>
        </header>

        <form method="POST">
            <div class="section-title"><i class="fa-solid fa-user"></i> Kimlik & Profil</div>
            <div class="grid">
                <div class="input-group slider-group">
                    <label>YaÅŸÄ±nÄ±z: <span id="age_val" class="badge">20</span></label>
                    <input type="range" name="age" min="17" max="30" value="20" oninput="document.getElementById('age_val').innerText = this.value">
                </div>
                <div class="input-group"><label>Cinsiyet</label><div class="select-wrapper"><select name="gender"><option>KadÄ±n</option><option>Erkek</option><option>DiÄŸer</option></select></div></div>
                <div class="input-group"><label>Ebeveyn EÄŸitimi</label><div class="select-wrapper"><select name="education"><option>Lise</option><option>Ãœniversite (Lisans)</option><option>YÃ¼ksek Lisans</option><option>Doktora</option></select></div></div>
                <div class="input-group"><label>YarÄ± ZamanlÄ± Ä°ÅŸ?</label><div class="select-wrapper"><select name="part_time"><option>Evet</option><option>HayÄ±r</option></select></div></div>
            </div>

            <div class="section-title"><i class="fa-solid fa-heart-pulse"></i> YaÅŸam Kalitesi</div>
            <div class="grid">
                <div class="input-group slider-group">
                    <label>Ruh Hali (1-10): <span id="mental_val" class="badge">6</span></label>
                    <input type="range" name="mental" min="1" max="10" value="6" oninput="document.getElementById('mental_val').innerText = this.value">
                </div>
                <div class="input-group slider-group">
                    <label>Uyku Saati: <span id="sleep_val" class="badge">7</span></label>
                    <input type="range" name="sleep_hrs" min="3" max="12" step="0.5" value="7" oninput="document.getElementById('sleep_val').innerText = this.value">
                </div>
                <div class="input-group"><label>Ä°nternet</label><div class="select-wrapper"><select name="internet"><option>ZayÄ±f</option><option>Orta</option><option>Ä°yi</option></select></div></div>
                <div class="input-group"><label>Beslenme</label><div class="select-wrapper"><select name="diet"><option>Dengesiz</option><option>Orta</option><option>SaÄŸlÄ±klÄ±</option></select></div></div>
            </div>

            <div class="section-title"><i class="fa-solid fa-clock"></i> Zaman YÃ¶netimi</div>
            <div class="grid">
                <div class="input-group slider-group">
                    <label>Ders Ã‡alÄ±ÅŸma (Saat): <span id="study_val" class="badge">3</span></label>
                    <input type="range" name="study_hrs" min="0" max="10" step="0.5" value="3" oninput="document.getElementById('study_val').innerText = this.value">
                </div>
                <div class="input-group slider-group">
                    <label>Sosyal Medya (Saat): <span id="social_val" class="badge">2</span></label>
                    <input type="range" name="social_hrs" min="0" max="8" step="0.5" value="2" oninput="document.getElementById('social_val').innerText = this.value">
                </div>
                <div class="input-group slider-group">
                    <label>Dizi/Film (Saat): <span id="netflix_val" class="badge">1</span></label>
                    <input type="range" name="netflix_hrs" min="0" max="8" step="0.5" value="1" oninput="document.getElementById('netflix_val').innerText = this.value">
                </div>
                <div class="input-group slider-group">
                    <label>HaftalÄ±k Egzersiz: <span id="exercise_val" class="badge">2</span></label>
                    <input type="range" name="exercise" min="0" max="7" value="2" oninput="document.getElementById('exercise_val').innerText = this.value">
                </div>
            </div>

            <button type="submit" class="analyze-btn">ðŸš€ ANALÄ°ZÄ° BAÅžLAT</button>
        </form>

        {% if prediction %}
        <div id="sonuc-bolumu" class="result-box">
            <div class="score-header">
                <h2>Tahmini BaÅŸarÄ± PuanÄ±</h2>
                <div class="big-score">{{ prediction }}</div>
            </div>
            
            <div class="analysis-grid">
                <div class="chart-container">
                    <h3><i class="fa-solid fa-chart-simple"></i> Siz vs. En BaÅŸarÄ±lÄ±lar</h3>
                    <img src="data:image/png;base64,{{ graph_url }}" alt="Grafik">
                </div>
                
                <div class="suggestions">
                    <h3><i class="fa-solid fa-user-doctor"></i> Size Ã–zel Tavsiyeler</h3>
                    <ul class="feedback-list">
                        {% for item in feedback %}
                        <li>{{ item | safe }}</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>

        <script>
            document.addEventListener("DOMContentLoaded", function() {
                var sonucDiv = document.getElementById("sonuc-bolumu");
                if (sonucDiv) {
                    setTimeout(function() {
                        sonucDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }, 100);
                }
            });
        </script>
        {% endif %}

    </div>
</body>
</html>